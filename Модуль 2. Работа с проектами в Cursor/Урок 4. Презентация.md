[[Урок 4. Совместная работа и код-ревью]]
## **Слайд 1 — Титульный

**Заголовок:** Совместная работа и код-ревью в Cursor

**Подзаголовок:** Анализ PR, объяснение кода, комментарии с AI

**Тезисы:** AI ускоряет ревью и делает обратную связь понятной

**Notes (2:00):** «Сегодня: как читать изменения, объяснять чужой код и писать конструктивные комментарии — почти без переключений из Cursor».

---

## **Слайд 2 — План и результат**

**Тезисы:**

1. Как готовить контекст ревью
    
2. Анализ diff и PR с AI
    
3. Объяснение и разбор сложной логики
    
4. Автогенерация комментариев/замечаний
    
    **Notes (0:45):** критерий успеха: к концу урока — один PR с вашими комментариями и коротким summary от AI.

---

## **Слайд 3 — Культура ревью

**Тезисы:**

- Цель: качество, безопасность, поддерживаемость
    
- Тон: факты → аргументы → предложение решения
    
- Формат: «Что вижу → Почему это важно → Как улучшить»
    
    **Notes (0:45):** задайте ожидания: не «придираться», а улучшать.

---

## **Слайд 4 — Подготовка к ревью в Cursor**

**Тезисы:**

- Обновите ветку: **Pull** → переключитесь на ветку PR
    
- Откройте изменённые файлы в **Source Control**
    
- Используйте split и просмотр **diff**
    
    **Notes (1:00):** одна задача — один экран: код слева, тест/дифф справа.

---

## **Слайд 5 — Чтение diff с помощью AI**

**Тезисы:**

- Выделите фрагмент diff → **Cmd/Ctrl+K**
    
- Попросите «короткое объяснение, зачем изменение»
    
- Спросите про side-effects и регрессы
    
    **Notes (1:30):** учим задавать рамки: файлы/папки, уровень детализации, формат ответа.


**Промпт:**

«Объясни цель этого изменения по diff. Список рисков и предположений. Если видишь регрессы — отметь файлы и строки.»

---

## **Слайд 6 — Анализ PR целиком

**Тезисы:**

- Спросить AI: «о чём PR? какие модули затронуты?»
    
- Попросить список «что проверить руками»
    
- Сформировать чек-лист приёмки
    
    **Notes (2:00):** полезно для онбординга в чужую зону кода.

**Промпт:**

«Суммаризируй PR: цель, ключевые изменения, затронутые модули. Дай чек-лист для ручной проверки (до 7 пунктов).»

---

## **Слайд 7 — Автогенерация ревью-комментариев**

**Тезисы:**

- Выделите участок → «Сформулируй ревью-комментарий по шаблону»
    
- Включайте: контекст, рекомендацию, ссылку на правило/гайд
    
- Стиль: конструктив, без категоричности
    
    **Notes (1:45):** AI — черновик, финальная правка за вами.

**Промпт:**

«Сформируй ревью-комментарий:

- Контекст (что изменено и где),
    
- Почему лучше иначе (производительность/читабельность/безопасность),
    
- Предложи исправление (код-сниппет),
    
    Тон — нейтральный и конструктивный.»

---

## **Слайд 8 — Объяснение сложной функции

**Тезисы:**

- Выделите функцию/класс → «Объясни пошагово»
    
- Попросите найти крайние случаи и скрытые зависимости
    
- Запросите схему потока данных/вызовов
    
    **Notes (2:00):** цель — быстро понять архитектурное место и риски.


**Промпты:**

- «Объясни, что делает эта функция построчно. Где возможны ошибки?»
    
- «Построй краткую карту вызовов: кто вызывает и что вызывается отсюда.»

---

## **Слайд 9 — Безопасность и производительность**

**Тезисы:**

- Попросите AI чек: инъекции, утечки, гонки, N+1, большие копии
    
- Сравнить сложность до/после (O-нотация на ключевых путях)
    
    **Notes (1:30):** важно давать контекст данных/нагрузки.

**Промпт:**

«Проверь изменения на типичные риски: безопасность (ввод/SQL/логирование секретов), производительность (алгоритм, аллокации), конкурентность. Короткий список с примерами строк.»

---

## **Слайд 10 — Тесты как часть ревью**

**Тезисы:**

- Спросить AI: «каких тестов не хватает?»
    
- Сгенерировать 2–3 критичных кейса
    
- Проверить покрытие изменённой логики
    
    **Notes (1:15):** добавьте тест в PR — лучший комментарий.  

**Промпт:**

«Предложи недостающие тесты для затронутых функций: позитив, негатив, крайние случаи. Короткие сниппеты.»

---

## **Слайд 11 — Стиль кода и единообразие**

**Тезисы:**

- Сверяйтесь с линтером/форматтером
    
- Попросите AI привести пример «как у нас принято»
    
- Если спорно — предложите правило в README/CONTRIBUTING
    
    **Notes (1:00):** не спорить о вкусах — фиксировать правила.

---

## **Слайд 12 — Микро-демо

**Задача:** сделать ревью файла и оставить 2 конструктивных комментария

**Шаги:**

1. Открыть diff файла → **Cmd/Ctrl+K**: «Суммаризируй изменения и риски».
    
2. На горячем участке кода → промпт для комментария (из Слайда 7).
    
3. Попросить тест-кейсы (Слайд 10) → добавить один тест.
    
4. Сформировать итоговое summary PR (Слайд 6) для сообщения/комментария.
    
    **Notes:** держите заранее подготовленный небольшой PR/ветку.

---

## **Слайд 13 — Практика

**Задание:**

- Возьмите учебный PR (или локальный diff)
    
- Оставьте 2 комментария: «безопасность/производительность» и «читабельность»
    
- Предложите 1 тест и одно микро-исправление (сниппет)
    
    **Критерии:** корректный тон, конкретика (файл+строка), проверяемость.

---

## **Слайд 14 — Частые ошибки и как их избежать**

**Тезисы:**

- «Лайк/дизлайк» без объяснения → всегда давайте причину и вариант
    
- Комментарии вне контекста проекта → указывайте ограничения/инварианты
    
- Принятие AI-советов без проверки → воспроизводите локально, читайте diff
    
- Растягивать ревью на дни → фиксируйте SLA/размер PR
    
    **Notes (1:15):** покажите «плохой vs хороший» комментарий (1 слайд-пример).

---

## **Слайд 15 — Итоги

**Тезисы:**

- С AI быстрее: summary, риски, тест-идеи, черновики комментариев
    
- Конструктивный формат = ценность и уважение времени

