[[Урок 2. Подключение и настройка AI-моделей]]
## **Слайд 1 — Титульный**

**Заголовок:** Подключаем и настраиваем AI-модели в Cursor

**Подзаголовок:** OpenAI · Claude · Gemini · роутинг запросов

**Тезисы:** многомодельный стек = быстрее, дешевле, качественнее

**Notes (2–3):** «Цель — научиться подключать ключи провайдеров, выбирать модели под задачу и писать стабильные промпты. Поговорим и про стоимость/скорость/контекст.»

---

## **Слайд 2 — План и результат**

**Тезисы:**

1. Где в Cursor подключать провайдеры и хранить ключи
    
2. Подключение OpenAI; выбор семейства моделей
    
3. Подключение Claude и Gemini; когда их брать
    
4. Оптимизация: промпты, контекст, бюджет, роутинг
    
    **Итог:** рабочие ключи, таблица «какую модель когда», набор промпт-шаблонов
    
    **Notes:** в конце — чек-лист и готовые сниппеты .env.example.
    

---

### **БЛОК 1. ПОДКЛЮЧЕНИЕ ПРОВАЙДЕРОВ

## **Слайд 3 — Где включать ИИ в Cursor**

**Тезисы:**

- **Settings → AI**: выбор провайдера/модели по умолчанию
    
- Вставка ключей: OpenAI / Anthropic (Claude) / Google (Gemini)
    
- Проектные vs пользовательские настройки
    
    **Notes:** покажите окно настроек и переключение модели «на лету».

---

## **Слайд 4 — Безопасность ключей**

**Тезисы:**

- Никогда не коммитим ключи; используем .env и переменные окружения
    
- Ограничьте права и лимиты в кабинете провайдера
    
- Раздельные ключи: прод/дев

---

## **Слайд 5 — OpenAI: где взять ключ и как выбрать модель

**Тезисы:**

- Ключ — в личном кабинете провайдера
    
- Выбор семейства моделей по трём осям:
    
    **Качество рассуждений** · **Скорость/латентность** · **Цена/токен**
    
- Типовые роли:
    
    — «черновики/генерация тестов» → быстрые и недорогие модели
    
    — «архитектурные советы/сложный рефакторинг» → топ-модели
    
    — «длинный контекст (большие файлы)» → модели с расширенным окном
    
    **Notes:** не называйте точные цены — они меняются; дайте принцип выбора.


**Промпт (проверка):**

«Проверь мою конфигурацию OpenAI в проекте. Если чего-то не хватает — предложи патч-diff для .env.example и README (раздел “Настройка AI”).»

---

## **Слайд 6 — Быстрая проверка OpenAI из кода (опционально)**

**Тезисы:**

- Мини-скрипт для smoke-теста ключа

---

## **Слайд 7 — Claude (Anthropic): когда он уместен

**Тезисы:**

- Сильные стороны: аккуратные объяснения, рефакторинг, правки по диффам
    
- Настройка: вставить ключ, выбрать семейство модели
    
    **Промпт:**
    
    «Установи Claude как модель по умолчанию для задач “объясни код/сделай diff-рефакторинг”. Сгенерируй памятку: когда использовать Claude вместо OpenAI.»


**Мини-шаблон «когда брать»**

- Рефакторинг+диффы → Claude
    
- Генерация больших блоков кода → OpenAI/большой контекст
    
- Спорные ответы → сравнить обеими

---

## **Слайд 8 — Gemini (Google): когда полезен

**Тезисы:**

- Обычно быстрый и экономичный для черновиков и «массовых» правок
    
- Хорош для «вытаскивания фактов» из больших отрывков текста
    
- Настройка: ключ, модель, лимиты
    
    **Промпт:**
    
    «Добавь Gemini как “черновую” модель. Создай таблицу-подсказку: какие задачи рутить на неё (3–5 пунктов).»
    

---

### **БЛОК 2. ОПТИМИЗАЦИЯ И РОУТИНГ

## **Слайд 9 — Роутинг задач на разные модели**


| **Задача**                     | **Модель по умолчанию** | **Альтернатива** | Примечания                           |
| ------------------------------ | ----------------------- | ---------------- | ------------------------------------ |
| Автодополнение, мелкие функции | «быстрая/дешёвая»       | -                | короткие промпты, низкая температура |
| Генерация модуля/тестов        | «средняя»               | «топ»            | просите **diff** или частями         |
| Архсоветы, сложный баг-хант    | «топ»                   | Claude           | требуйте план/риски/метрики          |
| Массовые правки/документация   | Gemini                  | «средняя»        | пакетами, чёткие ограничения         |

---

## **Слайд 10 — Prompt Engineering: каркас запроса**

**Тезисы:**

1. **Контекст** (файлы/фреймворк/ограничения)
    
2. **Задача** (что именно сделать)
    
3. **Формат ответа** (diff/файл/список шагов)
    
4. **Критерии приёмки** (тесты, линтер, стиль)
    
5. **Ограничения** (что не трогать, предел изменений)
    
    **Шаблон промпта (копируй-вставляй):**
    
    «Контекст: {стек, версии, файлы}. Задача: {что сделать}. Формат: **diff** + 3 предложения “почему”. Критерии: {тесты/линтер/производительность}. Ограничения: не меняй {список}.»

---

## **Слайд 11 — Управление контекстом**

**Тезисы:**

- «Меньше — лучше»: давайте только нужные файлы/фрагменты
    
- В начало — краткий summary проекта (3–5 буллетов)
    
- Просите ссылки на строки (файл:строка)
    
    **Промпт:**
    
    «Сделай резюме проекта (5 буллетов) на основе открытых файлов. Дальше используй только эти термины в ответах.»

---

## **Слайд 12 — Форматы ответов для безопасных правок**

**Тезисы:**

- Просите **unified diff** / список патчей
    
- «Если меняешь >50 строк — предложи план и разбей на части»
    
    **Промпт:**
    
    «Верни изменения **только** как unified diff. Если правок >50 строк — сначала план (шаги), затем диффы по шагам.»

---

## **Слайд 13 — Контроль качества и бюджета**

**Тезисы:**

- Правило «2 прохода»: черновик дешёвой моделью → финал топ-моделью
    
- Токены: сокращайте промпты, используйте summary
    
- Кеш: сохраняйте полезные промпт-шаблоны
    
    **Notes:** заведите в репо /docs/ai-prompts.md.

---

## **Слайд 14 — Частые ошибки и как их избежать**

  

**Анти-паттерны:**

- «Сделай лучше как считаешь» → непредсказуемый результат
    
- Сразу огромные правки → просите по пакетам
    
- «Скормить весь проект» → раздувание токенов, дорого и шумно
    
- Коммит ключей/секретов → блокировка
    
    **Notes:** всегда просите diff и держите ветку для экспериментов.
    

---

### **МИКРО-ДЕМО**

## **Слайд 15 — «С нуля к рабочему роутингу»**

**Шаги:**

1. Открыть **Settings → AI**, вставить ключи (OpenAI, Claude, Gemini).
    
2. Сменить модель в панели чата и задать один и тот же промпт разным моделям (показать разницу).
    
3. Попросить **diff-рефакторинг** сложной функции топ-моделью.
    
    **Notes:** держите небольшую «пахнущую» функцию для демонстрации.

---

### **ПРАКТИКА

## **Слайд 16 — Практическое задание**

**Задание:**

- Подключите минимум два провайдера
    
- Настройте «роутинг» задач: какая модель для тестов, какая — для рефакторинга
    
- Сформируйте 2 промпт-шаблона (генерация и рефакторинг)
    
    **Критерии:** оба ключа активны; есть таблица «когда какую модель»; шаблоны сохранены в репо.

---

## **Слайд 17 — Подсказки промптов (шпаргалка)**

- «Сравни ответы двух моделей на задачу X. Дай таблицу: точность, полнота, шаги, риски, время.»
    
- «Определи минимальный контекст (файлы/строки), достаточный для задачи Y. Верни список путей и почему они нужны.»
    
- «Сделай черновик (дешёвой моделью) и попроси топ-модель проверить/улучшить: верни diff и список замечаний.»
    
- «Оцени стоимость: предложи как сократить токены (суммаризация, исключение файлов, поэтапные запросы).»

---

## **Слайд 18 — Итоги

**Тезисы:**

- Подключили провайдеров, настроили безопасное хранение ключей
    
- Научились выбирать модели под задачу и писать «жёсткие» промпты